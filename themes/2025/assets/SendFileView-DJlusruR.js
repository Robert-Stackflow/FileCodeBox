import{c as U,d as ue,r as I,o as ge,w as Ie,a as S,b as e,e as w,_ as pe,u as Ae,f as $e,g as m,n as a,h as r,i as De,t as T,j as E,k as V,l as j,m as O,v as se,T as Q,F as J,p as Fe,q as Pe,s as ae,x as K,y as je,X as ne,z as Be,A as le,B as Ue,C as H}from"./index-C-4-823a.js";import{u as Re,S as ie,C as Ve,c as He,a as Le,Q as qe,b as X,E as Ee}from"./clipboard-WGJncgVO.js";import{F as ce}from"./file-D-r2HShG.js";import{T as Ne}from"./trash-CAImX6bg.js";/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=U("ClipboardCopyIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=U("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=U("CloudUploadIcon",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=U("SendIcon",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=U("TerminalIcon",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=U("TextIcon",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]),Ke=ue({__name:"BorderProgressBar",props:{progress:{}},setup($){const M=$,B=I(null),o=I(null);let u=null;const k=()=>{if(!u||!o.value||!B.value)return;const g=B.value.clientWidth,h=B.value.clientHeight;o.value.width=g,o.value.height=h;const c=4,l=8;u.lineWidth=c;const y=u.createLinearGradient(0,0,g,h);y.addColorStop(0,"#4f46e5"),y.addColorStop(.5,"#7c3aed"),y.addColorStop(1,"#db2777"),u.strokeStyle="rgba(229, 231, 235, 0.2)",_(u,c/2,c/2,g-c,h-c,l),u.stroke();const v=((g+h)*2-8*l+2*Math.PI*l)*M.progress/100;u.strokeStyle=y,u.lineCap="round",u.lineJoin="round",u.beginPath();let d=v;const x=c/2,z=g-c,D=h-c;if(d>0){const p=Math.min(z-2*l,d);u.moveTo(l+x,x),u.lineTo(p+l+x,x),d-=p}if(d>0){const p=Math.min(Math.PI/2,d/l);u.arc(z-l+x,l+x,l,-Math.PI/2,p-Math.PI/2,!1),d-=p*l}if(d>0){const p=Math.min(D-2*l,d);u.lineTo(z+x,p+l+x),d-=p}if(d>0){const p=Math.min(Math.PI/2,d/l);u.arc(z-l+x,D-l+x,l,0,p,!1),d-=p*l}if(d>0){const p=Math.min(z-2*l,d);u.lineTo(z-p-l+x,D+x),d-=p}if(d>0){const p=Math.min(Math.PI/2,d/l);u.arc(l+x,D-l+x,l,Math.PI/2,Math.PI/2+p,!1),d-=p*l}if(d>0){const p=Math.min(D-2*l,d);u.lineTo(x,D-p-l+x),d-=p}if(d>0){const p=Math.min(Math.PI/2,d/l);u.arc(l+x,l+x,l,Math.PI,Math.PI+p,!1)}u.stroke()};function _(g,h,c,l,y,b){g.beginPath(),g.moveTo(h+b,c),g.lineTo(h+l-b,c),g.arcTo(h+l,c,h+l,c+b,b),g.lineTo(h+l,c+y-b),g.arcTo(h+l,c+y,h+l-b,c+y,b),g.lineTo(h+b,c+y),g.arcTo(h,c+y,h,c+y-b,b),g.lineTo(h,c+b),g.arcTo(h,c,h+b,c,b),g.closePath()}return ge(()=>{o.value&&(u=o.value.getContext("2d"),k())}),Ie(()=>M.progress,k),(g,h)=>(w(),S("div",{class:"border-progress-container",ref_key:"container",ref:B},[e("canvas",{ref_key:"canvas",ref:o,class:"border-progress-canvas"},null,512)],512))}}),Xe=pe(Ke,[["__scopeId","data-v-74085255"]]),de=$=>$>=1024*1024*1024?Math.round($/(1024*1024*1024))+"GB":$>=1024*1024?Math.round($/(1024*1024))+"MB":Math.round($/1024)+"KB",Ye={class:"p-8"},Ze={class:"flex justify-center space-x-4 mb-6"},et={key:"file",class:"grid grid-cols-1 gap-8"},tt={key:0,class:"absolute inset-0 w-full h-full"},rt={class:"block truncate"},ot={key:"text",class:"grid grid-cols-1 gap-8"},st={key:0,class:"flex flex-col"},at={class:"flex flex-col space-y-3"},nt={class:"relative flex-grow group"},lt=["placeholder"],it=["value"],ct={type:"submit",class:"w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-bold py-4 px-6 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-all duration-300 transform hover:scale-105 hover:shadow-lg relative overflow-hidden group"},dt={class:"relative z-10 flex items-center justify-center text-lg"},ut={class:"mt-6 text-center"},gt={class:"flex-grow overflow-y-auto p-6"},pt={class:"flex-shrink-0 mr-4"},ht={class:"flex-grow min-w-0 mr-4"},ft={class:"flex-shrink-0 flex space-x-2"},mt=["onClick"],xt=["onClick"],vt=["onClick"],yt={key:0,class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-3 sm:p-4 overflow-y-auto"},bt={class:"flex items-center justify-between"},wt={class:"p-4 sm:p-6"},kt={class:"flex items-center mb-3 sm:mb-4"},_t={class:"ml-3 sm:ml-4 min-w-0 flex-1"},Ct={class:"grid grid-cols-2 gap-3 sm:gap-4"},St={class:"flex items-center min-w-0"},Mt={class:"flex items-center min-w-0"},zt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6"},Tt={class:"space-y-3 sm:space-y-4"},It={class:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-4 sm:p-5 text-white"},At={class:"flex items-center justify-between mb-3 sm:mb-4"},$t={class:"text-2xl sm:text-3xl font-bold tracking-wider text-center break-all"},Dt={class:"flex items-center justify-between mb-2 sm:mb-3"},Ft={class:"bg-white p-3 sm:p-4 rounded-lg shadow-sm mb-3 sm:mb-4"},Pt=ue({__name:"SendFileView",setup($){const M=JSON.parse(localStorage.getItem("config")||"{}"),B=Ue(),o=De("isDarkMode"),u=Re(),k=I("file"),_=I(null),g=I(""),h=I(null),c=I("day"),l=I("1"),y=I(0),b=I(!1),v=I(null),d=Ae(),x=$e(()=>u.shareData),z=I(""),D=()=>{var n;(n=h.value)==null||n.click()},p=async n=>{const t=n.target;if(t.files&&t.files.length>0){const i=t.files[0];if(_.value=i,!W())return;z.value=await N(i),console.log(z.value)}},he=async n=>{var t;if((t=n.dataTransfer)!=null&&t.files&&n.dataTransfer.files.length>0){const i=n.dataTransfer.files[0];if(_.value=i,!W())return;z.value=await N(i)}},fe=async n=>{var i;const t=(i=n.clipboardData)==null?void 0:i.items;if(t)for(const s of t)if(s.kind==="file"){const f=s.getAsFile();if(f){if(f.size===0){d.showAlert("无法读取空文件","error");return}if(_.value=f,!W())return;try{z.value=await N(f),d.showAlert("已从剪贴板添加文件："+f.name,"success")}catch(C){d.showAlert("文件处理失败","error"),console.error("File hash calculation failed:",C)}break}}else k.value="text",t[0].getAsString(f=>{g.value+=f})},N=async n=>new Promise(t=>{const s=new FileReader;let f=0;const C=Math.ceil(n.size/2097152);s.onload=async F=>{const A=new Uint8Array(F.target.result);try{if(window.isSecureContext){const P=await crypto.subtle.digest("SHA-256",A),G=Array.from(new Uint8Array(P)).map(q=>q.toString(16).padStart(2,"0")).join("");f++,f<C?R():t(G)}else{const P=Z(n);t(P)}}catch{const L=Z(n);t(L)}};const R=()=>{const F=f*2097152,A=F+2097152>=n.size?n.size:F+2097152;s.readAsArrayBuffer(n.slice(F,A))};R()}),Z=n=>{const t=`${n.name}-${n.size}-${n.lastModified}`;let i=0;for(let s=0;s<t.length;s++){const f=t.charCodeAt(s);i=(i<<5)-i+f,i=i&i}return Math.abs(i).toString(16).padStart(64,"0")},me=(n=c.value)=>{switch(n){case"day":return"输入天数";case"hour":return"输入小时数";case"minute":return"输入分钟数";case"count":return"输入查看次数";case"forever":return"永久";default:return"输入值"}},ee=(n=c.value)=>{switch(n){case"day":return"天";case"hour":return"小时";case"minute":return"分钟";case"count":return"次";case"forever":return"永久";default:return""}},xe=async n=>{var t,i;try{const f=Math.ceil(n.size/5242880),C=await H.post("chunk/upload/init/",{file_name:n.name,file_size:n.size,chunk_size:5242880,file_hash:z.value});if(C.code!==200)throw new Error("初始化切片上传失败");if(C.detail.existed)return C;const R=C.detail.upload_id;for(let A=0;A<f;A++){const P=A*5242880,L=Math.min(P+5242880,n.size),G=n.slice(P,L),q=new FormData;if(q.append("chunk",new Blob([G],{type:n.type})),(await H.post(`chunk/upload/chunk/${R}/${A}`,q,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:ze=>{const Te=Math.round((A*5242880+ze.loaded)*100/n.size);y.value=Te}})).code!==200)throw new Error(`切片 ${A} 上传失败`)}const F=await H.post(`chunk/upload/complete/${R}`,{expire_value:l.value?parseInt(l.value):1,expire_style:c.value});if(F.code!==200)throw new Error("完成上传失败");return F}catch(s){throw console.error("切片上传失败:",s),(i=(t=s.response)==null?void 0:t.data)!=null&&i.detail?d.showAlert(s.response.data.detail,"error"):d.showAlert("上传失败,请稍后重试","error"),s}},ve=async n=>{const t=new FormData,i={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:f=>{const C=Math.round(f.loaded*100/f.total);y.value=C}};return t.append("file",n),t.append("expire_value",l.value),t.append("expire_style",c.value),await H.post("share/file/",t,i)},ye=()=>M.openUpload===0&&localStorage.getItem("token")===null?(d.showAlert("游客上传功能已关闭","error"),!1):!0,be=n=>n.size>M.uploadSize?(d.showAlert(`文件大小超过限制 (${de(M.uploadSize)})`,"error"),_.value=null,!1):!0,te=(n,t)=>{if(n==="forever"||n==="count")return!0;const i=M.max_save_seconds||0;if(i===0)return!0;let s=0;switch(n){case"minute":s=parseInt(t)*60;break;case"hour":s=parseInt(t)*3600;break;case"day":s=parseInt(t)*86400;break;default:return!1}return s<=i},W=()=>!(!ye()||!be(_.value)||!te(c.value,l.value)),we=async()=>{var n,t;if(k.value==="file"&&!_.value){d.showAlert("请选择要上传的文件","error");return}if(k.value==="text"&&!g.value.trim()){d.showAlert("请输入要发送的文本","error");return}if(c.value!=="forever"&&!l.value){d.showAlert("请输入过期值","error");return}if(!te(c.value,l.value)){const i=Math.floor(M.max_save_seconds/86400);d.showAlert(`过期时间不能超过${i}天`,"error");return}try{let i;if(k.value==="file")M.enableChunk?i=await xe(_.value):i=await ve(_.value);else{const s=new FormData;s.append("text",g.value),s.append("expire_value",l.value),s.append("expire_style",c.value),i=await H.post("share/text/",s,{headers:{"Content-Type":"multipart/form-data"}})}if(i&&i.code===200){const s=i.detail.code,f=i.detail.name,C={id:Date.now(),type:k.value,filename:f,date:new Date().toISOString().split("T")[0],size:k.value==="text"?`${(g.value.length/1024).toFixed(2)} KB`:`${(_.value.size/(1024*1024)).toFixed(1)} MB`,expiration:c.value==="forever"?"永久":`${l.value}${ee()}后过期`,retrieveCode:s};console.log(C),u.addShareData(C),d.showAlert(`文件发送成功！取件码：${s}`,"success"),_.value=null,g.value="",y.value=0,v.value=C,await X(s)}else throw new Error("服务器响应异常")}catch(i){console.error("发送失败:",i),(t=(n=i.response)==null?void 0:n.data)!=null&&t.detail?d.showAlert(i.response.data.detail,"error"):d.showAlert("发送失败,请稍后重试","error")}finally{y.value=0}},ke=()=>{B.push("/")},re=()=>{b.value=!b.value},_e=n=>{v.value=n},Ce=n=>{const t=u.shareData.findIndex(i=>i.id===n);t!==-1&&u.deleteShareData(t)},Se=window.location.origin+"/#/",Me=n=>`${Se}?code=${n.retrieveCode}`,oe=n=>{const i=(parseInt(l.value)||0)+n;i>=1&&(l.value=i.toString())};return ge(()=>{console.log("SendFileView mounted")}),(n,t)=>{const i=je("router-link");return w(),S("div",{class:"min-h-screen flex items-center justify-center p-4 overflow-hidden transition-colors duration-300",onPaste:E(fe,["prevent"])},[e("div",{class:a(["rounded-3xl shadow-2xl overflow-hidden border w-full max-w-md transition-colors duration-300",[r(o)?"bg-white bg-opacity-10 backdrop-filter backdrop-blur-xl border-gray-700":"bg-white border-gray-200"]])},[e("div",Ye,[e("h2",{class:a(["text-3xl font-extrabold text-center mb-8 cursor-pointer transition-colors duration-300",[r(o)?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-300 via-purple-300 to-pink-300":"text-indigo-600"]]),onClick:ke},T(r(M).name),3),e("form",{onSubmit:E(we,["prevent"]),class:"space-y-8"},[e("div",Ze,[e("button",{type:"button",onClick:t[0]||(t[0]=s=>k.value="file"),class:a(["px-4 py-2 rounded-lg",k.value==="file"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300"])}," 发送文件 ",2),e("button",{type:"button",onClick:t[1]||(t[1]=s=>k.value="text"),class:a(["px-4 py-2 rounded-lg",k.value==="text"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300"])}," 发送文本 ",2)]),m(Q,{name:"fade",mode:"out-in"},{default:V(()=>[k.value==="file"?(w(),S("div",et,[e("div",{class:a(["rounded-xl p-8 flex flex-col items-center justify-center border-2 border-dashed transition-all duration-300 group cursor-pointer relative",[r(o)?"bg-gray-800 bg-opacity-50 border-gray-600 hover:border-indigo-500":"bg-gray-100 border-gray-300 hover:border-indigo-500"]]),onClick:D,onDragover:t[2]||(t[2]=E(()=>{},["prevent"])),onDrop:E(he,["prevent"])},[e("input",{id:"file-upload",type:"file",class:"hidden",onChange:p,ref_key:"fileInput",ref:h},null,544),y.value>0?(w(),S("div",tt,[m(Xe,{progress:y.value},null,8,["progress"])])):j("",!0),m(r(Ge),{class:a(["w-16 h-16 transition-colors duration-300",r(o)?"text-gray-400 group-hover:text-indigo-400":"text-gray-600 group-hover:text-indigo-600"])},null,8,["class"]),e("p",{class:a(["mt-4 text-sm transition-colors duration-300 w-full text-center",r(o)?"text-gray-400 group-hover:text-indigo-400":"text-gray-600 group-hover:text-indigo-600"])},[e("span",rt,T(_.value?_.value.name:"点击或拖放文件到此处上传"),1)],2),e("p",{class:a(["mt-2 text-xs",r(o)?"text-gray-500":"text-gray-400"])}," 支持各种常见格式，最大"+T(r(de)(r(M).uploadSize)),3)],34)])):(w(),S("div",ot,[k.value==="text"?(w(),S("div",st,[O(e("textarea",{id:"text-content","onUpdate:modelValue":t[3]||(t[3]=s=>g.value=s),rows:"7",class:a(["flex-grow px-4 py-3 rounded-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition duration-300 resize-none",r(o)?"bg-gray-800 bg-opacity-50 text-white":"bg-white text-gray-900 border border-gray-300"]),placeholder:"在此输入要发送的文本..."},null,2),[[se,g.value]])])):j("",!0)]))]),_:1}),e("div",at,[e("label",{class:a(["text-sm font-medium",r(o)?"text-gray-300":"text-gray-700"])}," 过期时间 ",2),e("div",nt,[e("div",{class:a(["relative h-11 rounded-xl border transition-all duration-300",r(o)?"bg-gray-800/50 border-gray-700/50 group-hover:border-gray-600":"bg-white border-gray-200 group-hover:border-gray-300"])},[c.value!=="forever"?(w(),S(J,{key:0},[O(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value=s),type:"number",placeholder:me(),min:"1",class:a(["w-full h-full px-4 pr-32 rounded-xl placeholder-gray-400 transition-all duration-300","focus:outline-none focus:ring-2 focus:ring-offset-0","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none","bg-transparent",r(o)?"text-gray-100 focus:ring-indigo-500/70 placeholder-gray-500":"text-gray-900 focus:ring-indigo-500/50 placeholder-gray-400"])},null,10,lt),[[se,l.value]]),e("div",{class:a(["absolute right-24 top-0 h-full flex flex-col border-l",[r(o)?"border-gray-700/50":"border-gray-200"]])},[e("button",{type:"button",onClick:t[5]||(t[5]=s=>oe(1)),class:a(["flex-1 px-2 flex items-center justify-center transition-all duration-200",[r(o)?"hover:bg-gray-700/50 text-gray-400 hover:text-gray-200":"hover:bg-gray-50 text-gray-500 hover:text-gray-700"]])},t[12]||(t[12]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),2),e("button",{type:"button",onClick:t[6]||(t[6]=s=>oe(-1)),class:a(["flex-1 px-2 flex items-center justify-center transition-all duration-200",[r(o)?"hover:bg-gray-700/50 text-gray-400 hover:text-gray-200":"hover:bg-gray-50 text-gray-500 hover:text-gray-700"]])},t[13]||(t[13]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),2)],2)],64)):j("",!0),O(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>c.value=s),class:a(["absolute right-0 top-0 h-full appearance-none cursor-pointer","focus:outline-none focus:ring-2 focus:ring-offset-0",c.value==="forever"?"w-full px-4":"w-24 pl-3 pr-8 border-l",r(o)?"text-gray-100 border-gray-700/50 focus:ring-indigo-500/70 bg-gray-800/50":"text-gray-900 border-gray-200 focus:ring-indigo-500/50 bg-white"]),style:Pe([c.value==="forever"?"border-radius: 0.75rem;":"border-top-right-radius: 0.75rem;border-bottom-right-radius: 0.75rem;"])},[(w(!0),S(J,null,ae(r(M).expireStyle,s=>(w(),S("option",{value:s,key:s,class:a([r(o)?"bg-gray-800 text-gray-100":"bg-white text-gray-900"])},T(ee(s)),11,it))),128))],6),[[Fe,c.value]]),e("div",{class:a(["absolute pointer-events-none",[c.value==="forever"?"right-3":"right-2","top-1/2 -translate-y-1/2"]])},[(w(),S("svg",{class:a(["w-4 h-4 transition-colors duration-300",[r(o)?"text-gray-400":"text-gray-500"]]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2)],2)])]),e("button",ct,[t[16]||(t[16]=e("span",{class:"absolute top-0 left-0 w-full h-full bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"},null,-1)),e("span",dt,[m(r(Oe),{class:"w-6 h-6 mr-2"}),t[15]||(t[15]=e("span",null,"安全寄送",-1))])])],32),e("div",ut,[m(i,{to:"/",class:"text-indigo-400 hover:text-indigo-300 transition duration-300"},{default:V(()=>t[17]||(t[17]=[K(" 需要取件？点击这里 ")])),_:1,__:[17]})])]),e("div",{class:a(["px-8 py-4 bg-opacity-50 flex justify-between items-center",[r(o)?"bg-gray-800":"bg-gray-100"]])},[e("span",{class:a(["text-sm flex items-center",[r(o)?"text-gray-300":"text-gray-800"]])},[m(r(ie),{class:"w-4 h-4 mr-1 text-green-400"}),t[18]||(t[18]=K(" 安全加密 "))],2),e("button",{onClick:re,class:a(["text-sm hover:text-indigo-300 transition duration-300 flex items-center",[r(o)?"text-indigo-400":"text-indigo-600"]])},[t[19]||(t[19]=K(" 发件记录 ")),m(r(Ve),{class:"w-4 h-4 ml-1"})],2)],2)],2),m(Q,{name:"drawer"},{default:V(()=>[b.value?(w(),S("div",{key:0,class:a(["fixed inset-y-0 right-0 w-full sm:w-120 bg-opacity-70 backdrop-filter backdrop-blur-xl shadow-2xl z-50 overflow-hidden flex flex-col",[r(o)?"bg-gray-900":"bg-white"]])},[e("div",{class:a(["flex justify-between items-center p-6 border-b",[r(o)?"border-gray-700":"border-gray-200"]])},[e("h3",{class:a(["text-2xl font-bold",[r(o)?"text-white":"text-gray-800"]])}," 发件记录 ",2),e("button",{onClick:re,class:a(["hover:text-white transition duration-300",[r(o)?"text-gray-400":"text-gray-800"]])},[m(r(ne),{class:"w-6 h-6"})],2)],2),e("div",gt,[m(Be,{name:"list",tag:"div",class:"space-y-4"},{default:V(()=>[(w(!0),S(J,null,ae(x.value,s=>(w(),S("div",{key:s.id,class:a(["bg-opacity-50 rounded-lg p-4 flex items-center shadow-md hover:shadow-lg transition duration-300 transform hover:scale-102",[r(o)?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-white"]])},[e("div",pt,[m(r(ce),{class:a(["w-10 h-10",[r(o)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])]),e("div",ht,[e("p",{class:a(["font-medium text-lg truncate",[r(o)?"text-white":"text-gray-800"]])},T(s.filename?s.filename:"Text"),3),e("p",{class:a(["text-sm truncate",[r(o)?"text-gray-400":"text-gray-600"]])},T(s.date)+" · "+T(s.size),3)]),e("div",ft,[e("button",{onClick:f=>r(X)(s.retrieveCode),class:a(["p-2 rounded-full hover:bg-opacity-20 transition duration-300",[r(o)?"hover:bg-blue-400 text-blue-400":"hover:bg-blue-100 text-blue-600"]])},[m(r(Y),{class:"w-5 h-5"})],10,mt),e("button",{onClick:f=>_e(s),class:a(["p-2 rounded-full hover:bg-opacity-20 transition duration-300",[r(o)?"hover:bg-green-400 text-green-400":"hover:bg-green-100 text-green-600"]])},[m(r(Ee),{class:"w-5 h-5"})],10,xt),e("button",{onClick:f=>Ce(s.id),class:a(["p-2 rounded-full hover:bg-opacity-20 transition duration-300",[r(o)?"hover:bg-red-400 text-red-400":"hover:bg-red-100 text-red-600"]])},[m(r(Ne),{class:"w-5 h-5"})],10,vt)])],2))),128))]),_:1})])],2)):j("",!0)]),_:1}),m(Q,{name:"fade"},{default:V(()=>[v.value?(w(),S("div",yt,[e("div",{class:a(["w-full max-w-2xl rounded-2xl shadow-2xl transform transition-all duration-300 ease-out overflow-hidden",[r(o)?"bg-gray-900 bg-opacity-70":"bg-white bg-opacity-95"]])},[e("div",{class:a(["px-4 sm:px-6 py-3 sm:py-4 border-b",[r(o)?"border-gray-800":"border-gray-100"]])},[e("div",bt,[e("h3",{class:a(["text-lg sm:text-xl font-semibold",[r(o)?"text-white":"text-gray-900"]])}," 文件详情 ",2),e("button",{onClick:t[8]||(t[8]=s=>v.value=null),class:"p-1.5 sm:p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"},[m(r(ne),{class:a(["w-4 h-4 sm:w-5 sm:h-5",[r(o)?"text-gray-400":"text-gray-500"]])},null,8,["class"])])])],2),e("div",wt,[e("div",{class:a(["rounded-xl p-3 sm:p-4 mb-4 sm:mb-6",[r(o)?"bg-gray-800 bg-opacity-50":"bg-gray-50 bg-opacity-95"]])},[e("div",kt,[e("div",{class:a(["p-2 sm:p-3 rounded-lg",[r(o)?"bg-gray-800":"bg-white"]])},[v.value.type==="file"?(w(),le(r(ce),{key:0,class:a(["w-5 h-5 sm:w-6 sm:h-6",[r(o)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])):j("",!0),v.value.type==="text"?(w(),le(r(Je),{key:1,class:a(["w-5 h-5 sm:w-6 sm:h-6",[r(o)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])):j("",!0)],2),e("div",_t,[e("h4",{class:a(["font-medium text-sm sm:text-base truncate",[r(o)?"text-white":"text-gray-900"]])},T(v.value.filename?v.value.filename:"Text"),3),e("p",{class:a(["text-xs sm:text-sm truncate",[r(o)?"text-gray-400":"text-gray-500"]])},T(v.value.size)+" · "+T(v.value.date),3)])]),e("div",Ct,[e("div",St,[m(r(We),{class:a(["w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 flex-shrink-0",[r(o)?"text-gray-400":"text-gray-500"]])},null,8,["class"]),e("span",{class:a(["text-xs sm:text-sm truncate",[r(o)?"text-gray-300":"text-gray-600"]])},T(v.value.expiration),3)]),e("div",Mt,[m(r(ie),{class:a(["w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 flex-shrink-0",[r(o)?"text-gray-400":"text-gray-500"]])},null,8,["class"]),e("span",{class:a(["text-xs sm:text-sm truncate",[r(o)?"text-gray-300":"text-gray-600"]])}," 安全加密 ",2)])])],2),e("div",zt,[e("div",Tt,[e("div",It,[e("div",At,[t[20]||(t[20]=e("h4",{class:"font-medium text-sm sm:text-base"},"取件码",-1)),e("button",{onClick:t[9]||(t[9]=s=>r(He)(v.value.retrieveCode)),class:"p-1.5 sm:p-2 rounded-full hover:bg-white/10 transition-colors"},[m(r(Y),{class:"w-4 h-4 sm:w-5 sm:h-5",name:"点击复制取件码"})])]),e("p",$t,T(v.value.retrieveCode),1)]),e("div",{class:a(["rounded-xl p-3 sm:p-4",[r(o)?"bg-gray-800 bg-opacity-50":"bg-gray-50 bg-opacity-95"]])},[e("div",Dt,[e("h4",{class:a(["font-medium text-sm sm:text-base flex items-center min-w-0",[r(o)?"text-white":"text-gray-900"]])},[m(r(Qe),{class:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2 text-indigo-500 flex-shrink-0"}),t[21]||(t[21]=e("span",{class:"truncate"},"wget下载",-1))],2),e("button",{onClick:t[10]||(t[10]=s=>r(Le)(v.value.retrieveCode,v.value.filename)),class:"p-1.5 sm:p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex-shrink-0"},[m(r(Y),{class:a(["w-4 h-4 sm:w-5 sm:h-5",[r(o)?"text-gray-400":"text-gray-500"]]),name:"点击复制wget命令"},null,8,["class"])])]),e("p",{class:a(["text-xs sm:text-sm font-mono break-all line-clamp-2",[r(o)?"text-gray-300":"text-gray-600"]])}," 点击复制wget命令 ",2)],2)]),e("div",{class:a(["rounded-xl p-4 sm:p-5 flex flex-col items-center",[r(o)?"bg-gray-800 bg-opacity-50":"bg-gray-50 bg-opacity-95"]])},[e("div",Ft,[m(qe,{value:Me(v.value),size:140,level:"M",class:"sm:w-[160px] sm:h-[160px]"},null,8,["value"])]),e("p",{class:a(["text-xs sm:text-sm truncate max-w-full",[r(o)?"text-gray-400":"text-gray-500"]])}," 扫描二维码快速取件 ",2)],2)])]),e("div",{class:a(["px-4 sm:px-6 py-3 sm:py-4 border-t",[r(o)?"border-gray-800":"border-gray-100"]])},[e("button",{onClick:t[11]||(t[11]=s=>r(X)(v.value.retrieveCode)),class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg text-sm sm:text-base font-medium transition-colors"}," 复制取件链接 ")],2)],2)])):j("",!0)]),_:1})],32)}}}),Ht=pe(Pt,[["__scopeId","data-v-fad875ce"]]);export{Ht as default};
