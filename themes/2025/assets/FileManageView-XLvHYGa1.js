import{c as w,d as J,r as M,u as N,f as B,a as u,b as t,l as b,n as s,h as e,i as O,m as x,g as d,v as y,M as Q,x as S,F as V,s as j,t as g,C as F,e as c,A as I}from"./index-BAgz5Ib8.js";import{F as W}from"./file-d22J40ax.js";import{T as X,a as Z}from"./trash-R3aCwIiM.js";/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=w("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=w("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=w("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=w("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=w("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ot={class:"p-6 h-screen custom-scrollbar"},st={class:"mb-8"},it={class:"flex flex-1 gap-4 w-full sm:w-auto"},at={class:"relative flex-1"},rt={class:"overflow-x-auto"},nt={class:"px-6 py-4 whitespace-nowrap"},lt={class:"flex items-center"},dt={class:"px-6 py-4"},gt={class:"flex items-center group relative"},ct=["title"],ut={class:"absolute left-0 -top-2 -translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none"},pt={class:"bg-gray-900 text-white text-sm rounded px-2 py-1 max-w-xs break-all"},xt={class:"px-6 py-4 whitespace-nowrap"},yt={class:"px-6 py-4 whitespace-nowrap"},ht={class:"px-6 py-4"},bt={class:"group relative"},ft={class:"absolute left-0 -top-2 -translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10"},mt={class:"bg-gray-900 text-white text-sm rounded px-2 py-1 max-w-xs break-all"},vt={class:"px-6 py-4 whitespace-nowrap"},wt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},_t={class:"flex items-center space-x-2"},kt=["onClick"],Ct=["onClick"],Mt={class:"flex items-center space-x-2"},St=["disabled"],Vt={class:"flex items-center space-x-1"},zt=["onClick"],$t=["disabled"],jt={key:0,class:"fixed inset-0 z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Ft={class:"fixed inset-0 z-10 overflow-y-auto"},Ut={class:"flex min-h-full items-center justify-center p-4 text-center sm:p-0"},Dt={class:"flex items-center justify-between"},Tt={class:"flex items-center space-x-3"},Bt={class:"px-6 py-5"},It={class:"grid gap-6"},Lt={class:"space-y-2 group"},Pt={class:"relative rounded-lg shadow-sm"},Et={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none transition-opacity duration-200 opacity-0 group-focus-within:opacity-100"},qt={key:0,class:"space-y-2 group"},At={class:"relative rounded-lg shadow-sm"},Ht={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none transition-opacity duration-200 opacity-0 group-focus-within:opacity-100"},Kt={key:1,class:"space-y-2 group"},Rt={class:"relative rounded-lg shadow-sm"},Yt={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none transition-opacity duration-200 opacity-0 group-focus-within:opacity-100"},Gt={key:2,class:"space-y-2 group"},Jt={class:"relative rounded-lg shadow-sm"},Nt={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none transition-opacity duration-200 opacity-0 group-focus-within:opacity-100"},Ot={class:"space-y-2 group"},Qt={class:"relative rounded-lg shadow-sm"},Wt={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none transition-opacity duration-200 opacity-0 group-focus-within:opacity-100"},Xt={class:"space-y-2 group"},Zt={class:"relative rounded-lg shadow-sm"},te={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none transition-opacity duration-200 opacity-0 group-focus-within:opacity-100"},ae=J({__name:"FileManageView",setup(ee){function E(r){const i=new Date(r),a=i.getFullYear(),p=(i.getMonth()+1).toString().padStart(2,"0"),k=i.getDate().toString().padStart(2,"0"),C=i.getHours().toString().padStart(2,"0"),v=i.getMinutes().toString().padStart(2,"0"),G=i.getSeconds().toString().padStart(2,"0");return`${a}-${p}-${k} ${C}:${v}:${G}`}const o=O("isDarkMode"),U=M([]),q=N(),A=["粮票号","名称","大小","使用次数","描述","过期时间","操作"],n=M({page:1,size:10,total:0,keyword:""}),z=M(!1),l=M({id:null,code:"",prefix:"",suffix:"",text:null,expired_at:"",expired_count:null}),H=r=>{l.value={id:r.id,code:r.code,prefix:r.prefix,suffix:r.suffix,text:r.text,expired_at:r.expired_at?r.expired_at.slice(0,16):"",expired_count:r.expired_count},z.value=!0},_=()=>{z.value=!1,l.value={id:null,code:"",prefix:"",suffix:"",text:null,expired_at:"",expired_count:null}},K=async()=>{try{await F({url:"admin/file/update",method:"patch",data:l.value}),await f(),_()}catch(r){q.showAlert(r.response.data.detail,"error")}},R=async r=>{try{await F({url:"admin/file/delete",method:"delete",data:{id:r}}),await f()}catch(i){console.error("删除失败:",i)}},f=async()=>{try{const r=await F({url:"/admin/file/list",method:"get",params:n.value});U.value=r.detail.data,n.value.total=r.detail.total}catch(r){console.error("加载文件列表失败:",r)}},D=r=>r.text==null,$=async r=>{r<1||r>m.value||(n.value.page=r,await f())};f();const m=B(()=>Math.ceil(n.value.total/n.value.size)),Y=B(()=>{const r=n.value.page,i=m.value,a=2;let p=[];p.push(1);let k=Math.max(2,r-a),C=Math.min(i-1,r+a);k>2&&p.push("...");for(let v=k;v<=C;v++)p.push(v);return C<i-1&&p.push("..."),i>1&&p.push(i),p}),T=async()=>{n.value.page=1,await f()};return(r,i)=>(c(),u("div",ot,[t("div",st,[t("h2",{class:s(["text-2xl font-bold mb-4",[e(o)?"text-white":"text-gray-800"]])}," 文件管理 ",2)]),t("div",{class:s(["mb-6 flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between bg-opacity-70 p-4 rounded-lg shadow-sm",[e(o)?"bg-gray-800":"bg-white"]])},[t("div",it,[t("div",at,[x(t("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=a=>n.value.keyword=a),onKeyup:Q(T,["enter"]),class:s([e(o)?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400","w-full pl-10 pr-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-indigo-500 focus:border-transparent"]),placeholder:"搜索文件名称、描述..."},null,34),[[y,n.value.keyword]]),d(e(P),{class:s(["absolute left-3 top-3 w-5 h-5",[e(o)?"text-gray-400":"text-gray-500"]])},null,8,["class"])]),t("button",{onClick:T,class:"px-4 py-2.5 rounded-lg inline-flex items-center transition-all duration-200 bg-indigo-600 hover:bg-indigo-700 text-white shadow-sm"},[d(e(P),{class:"w-5 h-5 mr-2"}),i[9]||(i[9]=S(" 搜索 "))])])],2),t("div",{class:s(["rounded-lg shadow-sm overflow-hidden transition-all duration-300",[e(o)?"bg-gray-800 bg-opacity-70":"bg-white"]])},[t("div",{class:s(["px-6 py-4 border-b",[e(o)?"border-gray-700":"border-gray-200"]])},[t("h3",{class:s(["text-lg font-medium",[e(o)?"text-white":"text-gray-800"]])}," 所有文件 ",2)],2),t("div",rt,[t("table",{class:s(["min-w-full divide-y",[e(o)?"divide-gray-700":"divide-gray-200"]])},[t("thead",{class:s([e(o)?"bg-gray-900/50":"bg-gray-50"])},[t("tr",null,[(c(),u(V,null,j(A,a=>t("th",{key:a,class:s(["px-6 py-3.5 text-left text-xs font-medium uppercase tracking-wider",[e(o)?"text-gray-400":"text-gray-500"]])},g(a),3)),64))])],2),t("tbody",{class:s([e(o)?"bg-gray-800/50 divide-y divide-gray-700":"bg-white divide-y divide-gray-200"])},[(c(!0),u(V,null,j(U.value,a=>(c(),u("tr",{key:a.id,class:s(["hover:bg-opacity-50 transition-colors duration-200",[e(o)?"hover:bg-gray-700":"hover:bg-gray-50"]])},[t("td",nt,[t("div",lt,[t("span",{class:s(["font-medium select-all",[e(o)?"text-white":"text-gray-900"]])},g(a.code),3)])]),t("td",dt,[t("div",gt,[D(a)?(c(),I(e(W),{key:0,class:s(["w-5 h-5 mr-2 flex-shrink-0",[e(o)?"text-indigo-400":"text-indigo-500"]])},null,8,["class"])):b("",!0),D(a)?b("",!0):(c(),I(e(X),{key:1,class:s(["w-5 h-5 mr-2 flex-shrink-0",[e(o)?"text-indigo-400":"text-indigo-500"]])},null,8,["class"])),t("span",{class:s(["font-medium truncate max-w-[200px]",[e(o)?"text-white":"text-gray-900"]]),title:a.prefix},g(a.prefix),11,ct),t("div",ut,[t("div",pt,g(a.prefix),1)])])]),t("td",xt,[t("span",{class:s(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",[e(o)?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"]])},g(Math.round(a.size/1024/1024*100)/100)+"MB ",3)]),t("td",yt,[t("span",{class:s(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",[e(o)?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"]])},g(a.used_count)+"次 ",3)]),t("td",ht,[t("div",bt,[t("span",{class:s(["block truncate max-w-[250px]",[e(o)?"text-gray-400":"text-gray-500"]])},g(a.text),3),t("div",ft,[t("div",mt,g(a.text),1)])])]),t("td",vt,[t("span",{class:s(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",[a.expired_at?e(o)?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-800":e(o)?"bg-green-900/30 text-green-400":"bg-green-100 text-green-800"]])},g(a.expired_at?E(a.expired_at):"永久"),3)]),t("td",wt,[t("div",_t,[t("button",{onClick:p=>H(a),class:s(["inline-flex items-center px-3 py-1.5 rounded-md transition-colors duration-200",[e(o)?"bg-blue-900/20 text-blue-400 hover:bg-blue-900/30":"bg-blue-50 text-blue-600 hover:bg-blue-100"]])},[d(e(L),{class:"w-4 h-4 mr-1.5"}),i[10]||(i[10]=S(" 编辑 "))],10,kt),t("button",{onClick:p=>R(a.id),class:s(["inline-flex items-center px-3 py-1.5 rounded-md transition-colors duration-200",[e(o)?"bg-red-900/20 text-red-400 hover:bg-red-900/30":"bg-red-50 text-red-600 hover:bg-red-100"]])},[d(e(Z),{class:"w-4 h-4 mr-1.5"}),i[11]||(i[11]=S(" 删除 "))],10,Ct)])])],2))),128))],2)],2)]),t("div",{class:s(["mt-4 flex items-center justify-between px-6 py-4 border-t",[e(o)?"border-gray-700":"border-gray-200"]])},[t("div",{class:s(["flex items-center text-sm",[e(o)?"text-gray-400":"text-gray-500"]])}," 显示第 "+g((n.value.page-1)*n.value.size+1)+" 到 "+g(Math.min(n.value.page*n.value.size,n.value.total))+" 条，共 "+g(n.value.total)+" 条 ",3),t("div",Mt,[t("button",{onClick:i[1]||(i[1]=a=>$(n.value.page-1)),disabled:n.value.page===1,class:s(["inline-flex items-center px-3 py-1.5 rounded-md transition-colors duration-200",[e(o)?n.value.page===1?"bg-gray-800 text-gray-600 cursor-not-allowed":"bg-gray-800 text-gray-300 hover:bg-gray-700":n.value.page===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"]])},[d(e(tt),{class:"w-4 h-4"}),i[12]||(i[12]=t("span",{class:"pagination-button"},"上一页",-1))],10,St),t("div",Vt,[(c(!0),u(V,null,j(Y.value,a=>(c(),u(V,{key:a},[a!=="..."?(c(),u("button",{key:0,onClick:p=>$(a),class:s(["inline-flex items-center px-3 py-1.5 rounded-md transition-colors duration-200",[n.value.page===a?"bg-indigo-600 text-white":e(o)?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"]])},g(a),11,zt)):(c(),u("span",{key:1,class:s(["px-2",[e(o)?"text-gray-400":"text-gray-500"]])}," ... ",2))],64))),128))]),t("button",{onClick:i[2]||(i[2]=a=>$(n.value.page+1)),disabled:n.value.page>=m.value,class:s(["inline-flex items-center px-3 py-1.5 rounded-md transition-colors duration-200",[e(o)?n.value.page>=m.value?"bg-gray-800 text-gray-600 cursor-not-allowed":"bg-gray-800 text-gray-300 hover:bg-gray-700":n.value.page>=m.value?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"]])},[i[13]||(i[13]=t("span",{class:"pagination-button"},"上一页",-1)),d(e(et),{class:"w-4 h-4"})],10,$t)])],2)],2),z.value?(c(),u("div",jt,[t("div",{class:"fixed inset-0 bg-gradient-to-br from-gray-900/90 to-black/90 backdrop-blur-sm transition-opacity duration-300",onClick:_}),t("div",Ft,[t("div",Ut,[t("div",{class:s(["relative transform overflow-hidden rounded-2xl text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-xl animate-modal-scale",[e(o)?"bg-gray-800/95 backdrop-blur-md":"bg-white"]])},[t("div",{class:s(["relative px-6 pt-6 pb-4",[e(o)?"bg-gradient-to-r from-gray-800/50 to-gray-700/50":"bg-gradient-to-r from-gray-50 to-white"]])},[t("div",Dt,[t("div",Tt,[t("div",{class:s(["p-2 rounded-lg",[e(o)?"bg-indigo-500/10":"bg-indigo-50"]])},[d(e(L),{class:s(["w-5 h-5",[e(o)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])],2),t("h3",{class:s(["text-xl font-semibold leading-6",[e(o)?"text-white":"text-gray-900"]])},g(l.value.text==null?"编辑文件信息":"编辑文信息"),3)]),t("button",{onClick:_,class:s(["rounded-lg p-2 transition-all duration-200 hover:rotate-90",[e(o)?"text-gray-400 hover:text-white hover:bg-white/10":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"]])},i[14]||(i[14]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),2)])],2),t("div",Bt,[t("div",It,[t("div",Lt,[t("label",{class:s(["text-sm font-medium flex items-center space-x-2 transition-colors duration-200",[e(o)?"text-gray-300 group-focus-within:text-indigo-400":"text-gray-700 group-focus-within:text-indigo-600"]])},[i[15]||(i[15]=t("span",null,"粮票号",-1)),t("div",{class:s(["h-px flex-1 transition-colors duration-200",[e(o)?"bg-gray-700 group-focus-within:bg-indigo-500/50":"bg-gray-200 group-focus-within:bg-indigo-500/30"]])},null,2)],2),t("div",Pt,[x(t("input",{type:"text","onUpdate:modelValue":i[3]||(i[3]=a=>l.value.code=a),class:s(["block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 transition-all duration-200 focus:ring-2 focus:ring-inset sm:text-sm",[e(o)?"bg-gray-700/50 text-white placeholder-gray-400 focus:ring-indigo-500/50":"bg-gray-50 text-gray-900 placeholder-gray-400 focus:ring-indigo-500"]]),placeholder:"输入粮票号"},null,2),[[y,l.value.code]]),t("div",Et,[d(e(h),{class:s(["w-5 h-5",[e(o)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])])])]),l.value.text==null?(c(),u("div",qt,[t("label",{class:s(["text-sm font-medium flex items-center space-x-2 transition-colors duration-200",[e(o)?"text-gray-300 group-focus-within:text-indigo-400":"text-gray-700 group-focus-within:text-indigo-600"]])},[i[16]||(i[16]=t("span",null,"文件名称",-1)),t("div",{class:s(["h-px flex-1 transition-colors duration-200",[e(o)?"bg-gray-700 group-focus-within:bg-indigo-500/50":"bg-gray-200 group-focus-within:bg-indigo-500/30"]])},null,2)],2),t("div",At,[x(t("input",{type:"text","onUpdate:modelValue":i[4]||(i[4]=a=>l.value.prefix=a),class:s(["block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 transition-all duration-200 focus:ring-2 focus:ring-inset sm:text-sm",[e(o)?"bg-gray-700/50 text-white placeholder-gray-400 focus:ring-indigo-500/50":"bg-gray-50 text-gray-900 placeholder-gray-400 focus:ring-indigo-500"]]),placeholder:"输入文件名称"},null,2),[[y,l.value.prefix]]),t("div",Ht,[d(e(h),{class:s(["w-5 h-5",[e(o)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])])])])):b("",!0),l.value.text==null?(c(),u("div",Kt,[t("label",{class:s(["text-sm font-medium flex items-center space-x-2 transition-colors duration-200",[e(o)?"text-gray-300 group-focus-within:text-indigo-400":"text-gray-700 group-focus-within:text-indigo-600"]])},[i[17]||(i[17]=t("span",null,"文件后缀",-1)),t("div",{class:s(["h-px flex-1 transition-colors duration-200",[e(o)?"bg-gray-700 group-focus-within:bg-indigo-500/50":"bg-gray-200 group-focus-within:bg-indigo-500/30"]])},null,2)],2),t("div",Rt,[x(t("input",{type:"text","onUpdate:modelValue":i[5]||(i[5]=a=>l.value.suffix=a),class:s(["block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 transition-all duration-200 focus:ring-2 focus:ring-inset sm:text-sm",[e(o)?"bg-gray-700/50 text-white placeholder-gray-400 focus:ring-indigo-500/50":"bg-gray-50 text-gray-900 placeholder-gray-400 focus:ring-indigo-500"]]),placeholder:"输入文件后缀"},null,2),[[y,l.value.suffix]]),t("div",Yt,[d(e(h),{class:s(["w-5 h-5",[e(o)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])])])])):b("",!0),l.value.text!=null?(c(),u("div",Gt,[t("label",{class:s(["text-sm font-medium flex items-center space-x-2 transition-colors duration-200",[e(o)?"text-gray-300 group-focus-within:text-indigo-400":"text-gray-700 group-focus-within:text-indigo-600"]])},[i[18]||(i[18]=t("span",null,"文本内容",-1)),t("div",{class:s(["h-px flex-1 transition-colors duration-200",[e(o)?"bg-gray-700 group-focus-within:bg-indigo-500/50":"bg-gray-200 group-focus-within:bg-indigo-500/30"]])},null,2)],2),t("div",Jt,[x(t("textarea",{rows:"4","onUpdate:modelValue":i[6]||(i[6]=a=>l.value.text=a),class:s(["block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 transition-all duration-200 focus:ring-2 focus:ring-inset sm:text-sm",[e(o)?"bg-gray-700/50 text-white placeholder-gray-400 focus:ring-indigo-500/50":"bg-gray-50 text-gray-900 placeholder-gray-400 focus:ring-indigo-500"]]),placeholder:"输入文本内容"},null,2),[[y,l.value.text]]),t("div",Nt,[d(e(h),{class:s(["w-5 h-5",[e(o)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])])])])):b("",!0),t("div",Ot,[t("label",{class:s(["text-sm font-medium flex items-center space-x-2 transition-colors duration-200",[e(o)?"text-gray-300 group-focus-within:text-indigo-400":"text-gray-700 group-focus-within:text-indigo-600"]])},[i[19]||(i[19]=t("span",null,"过期时间",-1)),t("div",{class:s(["h-px flex-1 transition-colors duration-200",[e(o)?"bg-gray-700 group-focus-within:bg-indigo-500/50":"bg-gray-200 group-focus-within:bg-indigo-500/30"]])},null,2)],2),t("div",Qt,[x(t("input",{type:"datetime-local","onUpdate:modelValue":i[7]||(i[7]=a=>l.value.expired_at=a),class:s(["block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 transition-all duration-200 focus:ring-2 focus:ring-inset sm:text-sm",[e(o)?"bg-gray-700/50 text-white placeholder-gray-400 focus:ring-indigo-500/50":"bg-gray-50 text-gray-900 placeholder-gray-400 focus:ring-indigo-500"]])},null,2),[[y,l.value.expired_at]]),t("div",Wt,[d(e(h),{class:s(["w-5 h-5",[e(o)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])])])]),t("div",Xt,[t("label",{class:s(["text-sm font-medium flex items-center space-x-2 transition-colors duration-200",[e(o)?"text-gray-300 group-focus-within:text-indigo-400":"text-gray-700 group-focus-within:text-indigo-600"]])},[i[20]||(i[20]=t("span",null,"下载次数限制",-1)),t("div",{class:s(["h-px flex-1 transition-colors duration-200",[e(o)?"bg-gray-700 group-focus-within:bg-indigo-500/50":"bg-gray-200 group-focus-within:bg-indigo-500/30"]])},null,2)],2),t("div",Zt,[x(t("input",{type:"number","onUpdate:modelValue":i[8]||(i[8]=a=>l.value.expired_count=a),class:s(["block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 transition-all duration-200 focus:ring-2 focus:ring-inset sm:text-sm",[e(o)?"bg-gray-700/50 text-white placeholder-gray-400 focus:ring-indigo-500/50":"bg-gray-50 text-gray-900 placeholder-gray-400 focus:ring-indigo-500"]]),placeholder:"输入下载次数限制"},null,2),[[y,l.value.expired_count]]),t("div",te,[d(e(h),{class:s(["w-5 h-5",[e(o)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])])])])])]),t("div",{class:s(["flex items-center justify-end gap-3 px-6 py-4 border-t bg-gradient-to-b",[e(o)?"border-gray-700/50 from-gray-800/50 to-gray-800":"border-gray-200 from-gray-50 to-white"]])},[t("button",{onClick:_,class:s(["inline-flex items-center justify-center rounded-lg px-4 py-2.5 text-sm font-medium transition-all duration-200",[e(o)?"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50 hover:text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"]])}," 取消 ",2),t("button",{onClick:K,class:"inline-flex items-center justify-center rounded-lg px-4 py-2.5 text-sm font-medium transition-all duration-200 bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-500 hover:to-indigo-600 text-white shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/35"},[d(e(h),{class:"w-4 h-4 mr-2"}),i[21]||(i[21]=S(" 保存更改 "))])],2)],2)])])])):b("",!0)]))}});export{ae as default};
